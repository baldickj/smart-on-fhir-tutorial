<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <title>Patient Education</title>

    <link rel='stylesheet' type='text/css' href='./src/css/example-smart-app.css'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        .header h1 {
            margin: 0;
        }
        .header .title {
            display: flex;
            align-items: center;
            flex-direction: column;
        }
        .header .title h1 {
            margin: 0;
        }
        .header .title h2 {
            margin: 0;
            font-size: 1rem;
            font-weight: 400;
            color: #666;
        }
        .logo {
            width: 100px;
        }
        .content {
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #dee2e6;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
        }
        tbody tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        button {
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div id='errors'></div>
    <div class="header">
        <div class="title">
            <h1>Patient Education</h1>
            <h2 id="patient-name"></h2>
        </div>
        <img src="./src/images/M_logo.bmp" alt="Logo" class="logo">
    </div>
    <div id="loading" class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
    <div id='holder' class="content">

         <!-- Search input and button -->
<div class="search-container">
    <input type="text" id="search-query" placeholder="Search documents..." />
    <button id="search-button">Search</button>
</div>
                <!-- Add the search results and document selection section here -->
        <div id="search-results"></div>
        <div id="selected-document"></div>
        <button onclick="sendToEMR()">Send to EMR</button>
        <table>
           <!--  <thead>
                <tr>
                    <th>Document Name</th>
                    <th>Action</th>
                </tr>   -->
            </thead>
            <tbody id="document-references">
                <!-- Document references will be inserted here -->
            </tbody>
        </table>
    </div>
    <!-- Required JS files to enable this page to embed within an MPage -->
    <!--
      Temporarily disable cerner-smart-embeddable-lib
      <script src='https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.26.0/polyfill.min.js'></script>
      <script src='./lib/js/cerner-smart-embeddable-lib-1.0.0.min.js'></script>
    -->



    <!-- FHIR Client JS Library -->
    <script src='./lib/js/fhir-client-v0.1.12.js'></script>

<!-- Include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    

        <!-- Application-level javascript-->
    <script src='./src/js/example-smart-app.js'></script>

    <!-- Prevent session bleed caused by single threaded embedded browser and sessionStorage API -->
    <!-- https://github.com/cerner/fhir-client-cerner-additions -->
    <script src='./lib/js/fhir-client-cerner-additions-1.0.0.js'></script>
  
    <script>
        extractData().then(
            // Display Patient Demographics and Observations if extractData was success
            function(p) {
                drawVisualization(p);
            },

            // Display 'Failed to call FHIR Service' if extractData failed
            function() {
                $('#loading').hide();
                $('#errors').html('<p> Failed to call FHIR Service </p>');
            }
        );
    </script>
</body>
</html>

